<svg width="1600" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="encoderGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1E40AF;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="decoderGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#047857;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="attentionGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="4" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1600" height="1000" fill="#F8FAFC"/>

  <!-- Title -->
  <text x="800" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#1E293B">
    Transformer Architecture Deep Dive
  </text>
  <text x="800" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#64748B">
    Self-Attention Mechanism • Multi-Head Attention • Positional Encoding • Parallel Processing
  </text>

  <!-- Main Architecture Flow -->

  <!-- Input Embedding -->
  <g transform="translate(50, 150)">
    <rect x="0" y="0" width="120" height="60" rx="8" fill="#E0E7FF" stroke="#6366F1" stroke-width="2" filter="url(#shadow)"/>
    <text x="60" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4338CA">
      Input Embedding
    </text>
    <text x="60" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6366F1">
      (d_model = 512)
    </text>
  </g>

  <!-- Positional Encoding -->
  <g transform="translate(200, 150)">
    <rect x="0" y="0" width="120" height="60" rx="8" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2" filter="url(#shadow)"/>
    <text x="60" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1E40AF">
      Positional
    </text>
    <text x="60" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1E40AF">
      Encoding
    </text>
    <text x="60" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#3B82F6">
      sin/cos functions
    </text>
  </g>

  <!-- Encoder Stack -->
  <g transform="translate(350, 100)">
    <rect x="0" y="0" width="300" height="200" rx="12" fill="url(#encoderGrad)" filter="url(#shadow)"/>
    <text x="150" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">
      Encoder (N=6)
    </text>

    <!-- Multi-Head Attention -->
    <g transform="translate(20, 40)">
      <rect x="0" y="0" width="260" height="50" rx="6" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
      <text x="130" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#92400E">
        Multi-Head Attention
      </text>
      <text x="130" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#B45309">
        (h=8 heads, d_k=64)
      </text>
      <text x="130" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#B45309">
        Q, K, V projections
      </text>
    </g>

    <!-- Add & Norm -->
    <g transform="translate(20, 100)">
      <rect x="0" y="0" width="260" height="25" rx="4" fill="#D1FAE5" stroke="#10B981" stroke-width="1"/>
      <text x="130" y="17" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#065F46">
        Add &amp; Norm (LayerNorm + Residual)
      </text>
    </g>

    <!-- Feed Forward -->
    <g transform="translate(20, 135)">
      <rect x="0" y="0" width="260" height="45" rx="6" fill="#E0E7FF" stroke="#6366F1" stroke-width="2"/>
      <text x="130" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4338CA">
        Feed Forward
      </text>
      <text x="130" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6366F1">
        (d_ff=2048, ReLU)
      </text>
    </g>
  </g>

  <!-- Arrow from Encoder to Decoder -->
  <path d="M 650 200 L 750 200" stroke="#64748B" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="700" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#64748B">
    Cross-Attention
  </text>

  <!-- Decoder Stack -->
  <g transform="translate(750, 100)">
    <rect x="0" y="0" width="300" height="200" rx="12" fill="url(#decoderGrad)" filter="url(#shadow)"/>
    <text x="150" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">
      Decoder (N=6)
    </text>

    <!-- Masked Multi-Head Attention -->
    <g transform="translate(20, 40)">
      <rect x="0" y="0" width="260" height="40" rx="6" fill="#FEE2E2" stroke="#EF4444" stroke-width="2"/>
      <text x="130" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#991B1B">
        Masked Multi-Head Attention
      </text>
      <text x="130" y="32" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#DC2626">
        (prevent future info)
      </text>
    </g>

    <!-- Add & Norm -->
    <g transform="translate(20, 90)">
      <rect x="0" y="0" width="260" height="20" rx="3" fill="#D1FAE5" stroke="#10B981" stroke-width="1"/>
      <text x="130" y="14" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#065F46">
        Add &amp; Norm
      </text>
    </g>

    <!-- Cross Multi-Head Attention -->
    <g transform="translate(20, 120)">
      <rect x="0" y="0" width="260" height="40" rx="6" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
      <text x="130" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#92400E">
        Cross Multi-Head Attention
      </text>
      <text x="130" y="32" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#B45309">
        (Keys &amp; Values from Encoder)
      </text>
    </g>

    <!-- Add & Norm -->
    <g transform="translate(20, 170)">
      <rect x="0" y="0" width="260" height="20" rx="3" fill="#D1FAE5" stroke="#10B981" stroke-width="1"/>
      <text x="130" y="14" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#065F46">
        Add &amp; Norm
      </text>
    </g>
  </g>

  <!-- Output Linear -->
  <g transform="translate(1080, 150)">
    <rect x="0" y="0" width="120" height="60" rx="8" fill="#E0E7FF" stroke="#6366F1" stroke-width="2" filter="url(#shadow)"/>
    <text x="60" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4338CA">
      Linear Layer
    </text>
    <text x="60" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6366F1">
      (d_model → vocab_size)
    </text>
  </g>

  <!-- Softmax -->
  <g transform="translate(1230, 150)">
    <rect x="0" y="0" width="120" height="60" rx="8" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2" filter="url(#shadow)"/>
    <text x="60" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1E40AF">
      Softmax
    </text>
    <text x="60" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#3B82F6">
      Probability dist.
    </text>
  </g>

  <!-- Output -->
  <g transform="translate(1380, 150)">
    <rect x="0" y="0" width="120" height="60" rx="8" fill="#D1FAE5" stroke="#10B981" stroke-width="2" filter="url(#shadow)"/>
    <text x="60" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#065F46">
      Output
    </text>
  </g>

  <!-- Attention Mechanism Detail Box -->
  <g transform="translate(50, 350)">
    <rect x="0" y="0" width="700" height="280" rx="15" fill="#1E293B" filter="url(#shadow)"/>
    <text x="350" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="white">
      Self-Attention Mechanism
    </text>

    <!-- Attention Formula -->
    <g transform="translate(20, 60)">
      <rect x="0" y="0" width="660" height="60" rx="8" fill="#334155"/>
      <text x="330" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#60A5FA">
        Attention(Q,K,V) = softmax(
      </text>
      <text x="330" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#60A5FA">
        QK
      </text>
      <text x="360" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#60A5FA">
        T
      </text>
      <text x="380" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#60A5FA">
        /√d
      </text>
      <text x="415" y="32" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#60A5FA">
        k
      </text>
      <text x="430" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#60A5FA">
        )V
      </text>
    </g>

    <!-- Q, K, V Explanation -->
    <g transform="translate(20, 140)">
      <rect x="0" y="0" width="200" height="60" rx="6" fill="#1E3A8A"/>
      <text x="100" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#60A5FA">
        Query (Q)
      </text>
      <text x="100" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#93C5FD">
        What I'm looking for
      </text>
      <text x="100" y="52" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#93C5FD">
        Current position
      </text>
    </g>

    <g transform="translate(240, 140)">
      <rect x="0" y="0" width="200" height="60" rx="6" fill="#1E3A8A"/>
      <text x="100" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#60A5FA">
        Key (K)
      </text>
      <text x="100" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#93C5FD">
        What I can offer
      </text>
      <text x="100" y="52" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#93C5FD">
        All positions
      </text>
    </g>

    <g transform="translate(460, 140)">
      <rect x="0" y="0" width="200" height="60" rx="6" fill="#1E3A8A"/>
      <text x="100" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#60A5FA">
        Value (V)
      </text>
      <text x="100" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#93C5FD">
        Actual information
      </text>
      <text x="100" y="52" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#93C5FD">
        Content to use
      </text>
    </g>

    <!-- Multi-Head Explanation -->
    <g transform="translate(20, 220)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#F59E0B">
        Multi-Head Benefits:
      </text>
      <text x="0" y="20" font-family="Arial, sans-serif" font-size="12" fill="#94A3B8">
        • 8 parallel attention heads capture different relationship patterns
      </text>
      <text x="0" y="40" font-family="Arial, sans-serif" font-size="12" fill="#94A3B8">
        • Each head focuses on different aspects (syntactic, semantic, long-range)
      </text>
      <text x="0" y="60" font-family="Arial, sans-serif" font-size="12" fill="#94A3B8">
        • Concatenated and linearly projected for final representation
      </text>
    </g>
  </g>

  <!-- Positional Encoding Detail -->
  <g transform="translate(780, 350)">
    <rect x="0" y="0" width="750" height="280" rx="15" fill="#1E293B" filter="url(#shadow)"/>
    <text x="375" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="white">
      Positional Encoding
    </text>

    <!-- PE Formulas -->
    <g transform="translate(20, 60)">
      <rect x="0" y="0" width="710" height="80" rx="8" fill="#334155"/>
      <text x="355" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#A78BFA">
        PE(pos,2i) = sin(pos/10000
      </text>
      <text x="410" y="23" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#A78BFA">
        2i/d
      </text>
      <text x="430" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#A78BFA">
        model
      </text>
      <text x="355" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#A78BFA">
        PE(pos,2i+1) = cos(pos/10000
      </text>
      <text x="430" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#A78BFA">
        2i/d
      </text>
      <text x="450" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#A78BFA">
        model
      </text>
      <text x="355" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#94A3B8">
        where pos is position and i is dimension
      </text>
    </g>

    <!-- Why Positional Encoding -->
    <g transform="translate(20, 160)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#F472B6">
        Why Positional Encoding?
      </text>
      <text x="0" y="25" font-family="Arial, sans-serif" font-size="12" fill="#94A3B8">
        • Transformers process all tokens in parallel (no sequential bias)
      </text>
      <text x="0" y="45" font-family="Arial, sans-serif" font-size="12" fill="#94A3B8">
        • Need to inject information about token positions
      </text>
      <text x="0" y="65" font-family="Arial, sans-serif" font-size="12" fill="#94A3B8">
        • Sin/cos functions create unique positional signatures
      </text>
      <text x="0" y="85" font-family="Arial, sans-serif" font-size="12" fill="#94A3B8">
        • Enables learning relative positions and distance relationships
      </text>
    </g>
  </g>

  <!-- Technical Specifications -->
  <g transform="translate(50, 660)">
    <rect x="0" y="0" width="1500" height="120" rx="12" fill="#F1F5F9" stroke="#CBD5E1" stroke-width="2"/>
    <text x="750" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#334155">
      Technical Specifications (Original Transformer)
    </text>

    <!-- Spec columns -->
    <g transform="translate(50, 50)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569">
        Model Size:
      </text>
      <text x="0" y="20" font-family="Arial, sans-serif" font-size="11" fill="#64748B">
        65M parameters
      </text>
    </g>

    <g transform="translate(200, 50)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569">
        Layers:
      </text>
      <text x="0" y="20" font-family="Arial, sans-serif" font-size="11" fill="#64748B">
        Encoder: 6, Decoder: 6
      </text>
    </g>

    <g transform="translate(350, 50)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569">
        d_model:
      </text>
      <text x="0" y="20" font-family="Arial, sans-serif" font-size="11" fill="#64748B">
        512 dimensions
      </text>
    </g>

    <g transform="translate(500, 50)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569">
        Attention Heads:
      </text>
      <text x="0" y="20" font-family="Arial, sans-serif" font-size="11" fill="#64748B">
        8 heads (d_k = 64)
      </text>
    </g>

    <g transform="translate(650, 50)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569">
        Feed Forward:
      </text>
      <text x="0" y="20" font-family="Arial, sans-serif" font-size="11" fill="#64748B">
        2048 dimensions
      </text>
    </g>

    <g transform="translate(800, 50)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569">
        Dropout:
      </text>
      <text x="0" y="20" font-family="Arial, sans-serif" font-size="11" fill="#64748B">
        0.1 for embeddings, 0.1 for sublayers
      </text>
    </g>

    <g transform="translate(1000, 50)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569">
        Optimization:
      </text>
      <text x="0" y="20" font-family="Arial, sans-serif" font-size="11" fill="#64748B">
        Adam optimizer, lr = 0.0001
      </text>
    </g>

    <g transform="translate(1200, 50)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569">
        Training:
      </text>
      <text x="0" y="20" font-family="Arial, sans-serif" font-size="11" fill="#64748B">
        100K steps, batch size 4096
      </text>
    </g>
  </g>

  <!-- Key Innovations -->
  <g transform="translate(50, 810)">
    <rect x="0" y="0" width="1500" height="150" rx="12" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
    <text x="750" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#92400E">
      Key Innovations &amp; Impact
    </text>

    <!-- Innovation boxes -->
    <g transform="translate(50, 50)">
      <rect x="0" y="0" width="300" height="80" rx="6" fill="#FED7AA"/>
      <text x="150" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#9A3412">
        Parallel Processing
      </text>
      <text x="150" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Eliminates sequential bottleneck
      </text>
      <text x="150" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Enables massive parallelization
      </text>
      <text x="150" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        GPU/TPU acceleration friendly
      </text>
    </g>

    <g transform="translate(400, 50)">
      <rect x="0" y="0" width="300" height="80" rx="6" fill="#FED7AA"/>
      <text x="150" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#9A3412">
        Self-Attention
      </text>
      <text x="150" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Captures long-range dependencies
      </text>
      <text x="150" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Dynamic context weighting
      </text>
      <text x="150" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Interpretable attention maps
      </text>
    </g>

    <g transform="translate(750, 50)">
      <rect x="0" y="0" width="300" height="80" rx="6" fill="#FED7AA"/>
      <text x="150" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#9A3412">
        Scalability
      </text>
      <text x="150" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Scales to billions of parameters
      </text>
      <text x="150" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Foundation for LLMs
      </text>
      <text x="150" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Transfer learning capabilities
      </text>
    </g>

    <g transform="translate(1100, 50)">
      <rect x="0" y="0" width="300" height="80" rx="6" fill="#FED7AA"/>
      <text x="150" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#9A3412">
        Applications
      </text>
      <text x="150" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Machine translation, NLP
      </text>
      <text x="150" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Computer vision, multimodal AI
      </text>
      <text x="150" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#C2410C">
        Scientific computing, reasoning
      </text>
    </g>
  </g>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748B"/>
    </marker>
  </defs>

  <!-- Connecting arrows -->
  <path d="M 170 180 L 200 180" stroke="#64748B" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 320 180 L 350 180" stroke="#64748B" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 650 180 L 750 180" stroke="#64748B" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1050 180 L 1080 180" stroke="#64748B" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1200 180 L 1230 180" stroke="#64748B" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1350 180 L 1380 180" stroke="#64748B" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Decoder input -->
  <g transform="translate(750, 320)">
    <rect x="0" y="0" width="120" height="40" rx="6" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2"/>
    <text x="60" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1E40AF">
      Output Embedding
    </text>
    <text x="60" y="32" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#3B82F6">
      + Positional Encoding
    </text>
  </g>

  <path d="M 810 320 L 810 300" stroke="#64748B" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
</svg>